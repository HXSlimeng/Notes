**宏任务与微任务**

异步任务分为宏任务队列与微任务队列、执行流程 同步任务 =>异步微任务=>异步宏任务

案例

```js
setTimeout(() => {
  console.log(1);
}, 0);

queueMicrotask(() => {
  setTimeout(() => {
    console.log(2);
  }, 0);
});

new Promise((resolve) => {
  resolve(3);
}).then((res) => {
  console.log(res);
});

console.log(4)
```

1. 执行同步任务、打印 ==4==，将queueMicrotask与3放入微任务队列，==将 1 放入宏任务队列==
2. 执行微任务queueMicrotask==将 2 推进宏任务队列==、执行.then微任务打印  ==3==
3. 执行宏任务 1 2

执行顺序: 4 => 3 => 1 => 2 

**TreeShaking**

作用：消除无用的js代码，减少代码体积

```js
// 若项目中只使用了 targetType 则不会引入deepClone方法
export function targetType(target) {
  return Object.prototype.toString.call(target).slice(8, -1).toLowerCase();
}
export function deepClone(target) {
  return JSON.parse(JSON.stringify(target));
}
//export default  方法带入两个方法 则无法实现treeShaking 

```



**组件懒加载**

```js
const dialogInfo = import('@/components/***.vue')
//只有在使用的时候才会请求dialog组件的js
//缺点：会增加发请求的次数
//适用场景：比较大的公用组件
```

